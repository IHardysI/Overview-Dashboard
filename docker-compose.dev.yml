services:
  overview-dashboard:
    image: $DOCKER_IMAGE
    environment:
      - NODE_ENV=production
      - NEXT_TELEMETRY_DISABLED=1
    networks:
      - traefik-public
    deploy:
      resources:
        limits:
          cpus: '0.4'
          memory: 500MB
      labels:
        - traefik.enable=true
        - traefik.http.routers.overview-dashboard.rule=Host(`overview-dashboard.dev.reflectai.pro`)
        - traefik.http.routers.overview-dashboard.entrypoints=websecure
        - traefik.http.routers.overview-dashboard.service=overview-dashboard-svc
        - traefik.http.services.overview-dashboard-svc.loadbalancer.server.port=3000

networks:
  traefik-public:
    external: true